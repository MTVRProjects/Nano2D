//================================================//描述 ： 读取场景配置文件//作者 ：HML//创建时间 ：2018/12/12 10:28:28  //版本： 1.0//================================================using HMLFramwork.Helpers;using System.Collections.Generic;using UnityEngine;namespace HMLFramwork.SCENE{    public class ReadSceneSettingFile : HMLFramwork.Singleton.SingleInstance<ReadSceneSettingFile>    {        private Dictionary<string, SceneData> _scenesData = new Dictionary<string, SceneData>();        public Dictionary<string, SceneData> scenesData { get { if (_scenesData.Count < 1) Init(); return _scenesData; } }        void Init()        {            //1.读取场景配置文件夹下的所有场景配置文件            List<string> paths = HMLFramwork.Helpers.PathHelper.getPathsOfFiles("*.json", HMLFramwork.Helpers.PathHelper.getSceneSettingPath,false);            if (paths.Count > 0)            {                for (int i = 0; i < paths.Count; i++)                {                    string sceneJsonStr = FileHelper.GetStrFromFile(paths[i]);                    //2.将场景配置文件读取出来转换成场景配置数据                    SceneData sd = JsonHelper.toObject<SceneData>(sceneJsonStr);                    Debug.Log(sd.name);                    //3.存储起来                    if (!string.IsNullOrEmpty(sd.name)) _scenesData.Add(sd.name, sd);                    else Debug.Log("提示：场景为空...");                }            }            else Debug.Log("提示：场景配置文件夹下没有场景配置文件...");        }    }    public class SceneData    {        public int buildIndex;        public string name;        public List<GO_Data> gos_data;        public SceneData(int _buildIndex, string _scene_name, List<GO_Data> _gos_data)        {            buildIndex = _buildIndex;            name = _scene_name;            gos_data = _gos_data;        }    }    public struct GO_Data    {        public string name;        public Vector3 pos;        public Vector3 rot;        public Vector3 scale;        public GO_Data(string _name, Vector3 _pos, Vector3 _rot, Vector3 _scale)        {            name = _name;            pos = _pos;            rot = _rot;            scale = _scale;        }    }}